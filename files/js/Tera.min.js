"use strict";if(!Tera)var Tera={};Tera.Directory=Class.extend({_id:"",_addClass:"",init:function(t,e){this._id="#"!=t.substring(0,1)?"#"+t:t,this._addClass=e,this.parse()},parse:function(){var t=$("#directoryParse").contents(),e=$(this._id);t.length>1&&(e.append(t),this._addClass&&e.addClass(this._addClass),e.show())}}),Tera.xAttachment=Class.extend({_editorID:"",_replaceUrl:"",_attachmentIDs:[],init:function(t){this._editorID=t,WCF.DOMNodeInsertedHandler.addCallback("Tera.xAttachment",$.proxy(this._catchButton,this)),WCF.System.Event.addListener("com.woltlab.wcf.redactor","afterConvertToHtml",$.proxy(this._bbcode2html,this)),WCF.System.Event.addListener("com.woltlab.wcf.redactor","afterConvertFromHtml",$.proxy(this._html2bbcode,this)),$.browser.redactor&&(this._replaceUrl=$("#"+this._editorID).redactor("wutil.getOption","woltlab.attachmentUrl"),this._attachmentIDs=$("#"+this._editorID).redactor("wbbcode._getImageAttachmentIDs")),this._catchButton()},_catchButton:function(){$(".jsButtonInsertAttachment").off("click"),$(".jsButtonInsertAttachment").click($.proxy(this._xAttachInsert,this))},_xAttachInsert:function(t,e){var a=null===t?e:$(t.currentTarget).data("objectID"),r="[xattach="+a+"][/xattach]";$.browser.redactor&&$("#"+this._editorID).redactor("wutil.insertDynamic",r)},_bbcode2html:function(){},_html2bbcode:function(){}});